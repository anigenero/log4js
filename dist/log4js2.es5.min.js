!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.log4js=n():e.log4js=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function o(e){if(w)return void console.error("Could not configure - already in use");M||(M={}),e.layout||M.layout?e.layout&&(M.layout=e.layout):M.layout=L.layout,E(e.appenders),O(e.loggers)}function i(e){if(w&&!M.allowAppenderInjection)return void console.error("Cannot add appender when configuration finalized");R(e),A[e.name]||(A[e.name]=e)}function u(e){w=!0,(T[e.logger]||T[m]).forEach(function(n){n.isActive(e.level)&&n.append(e)})}function a(e){return M||o(L),"string"!=typeof e&&("function"==typeof e?e=p.getFunctionName(e):"object"===(void 0===e?"undefined":s(e))?"Object"===(e=p.getFunctionName(e.constructor))&&(e="anonymous"):e=m),new d.Logger(e,{append:u})}function l(e,n){if(Number.isInteger(e))if(n)T[n]&&T[n].setLogLevel(e);else for(var t in T)T.hasOwnProperty(t)&&T[t].forEach(function(n){n.setLogLevel(e)})}n.__esModule=!0,n.LogAppender=n.LogLevel=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.configure=o,n.addAppender=i,n.getLogger=a,n.setLogLevel=l;var c=t(1),f=(r(c),t(3)),p=r(f),g=t(7),d=t(8),v=t(4),y=t(9),m="main",h=[{appender:y.ConsoleAppender,level:v.LogLevel.INFO}],L={allowAppenderInjection:!0,appenders:h,loggers:[{level:v.LogLevel.INFO}],layout:"%d [%p] %c - %m"},b=["append","getName","isActive","setLogLevel","setLayout"],A={},M=null,w=!1,T={},E=function(e){e instanceof Array||(e=h),e.forEach(function(e){e instanceof Function&&i(e)})},O=function(e){if(!(e instanceof Array))throw new Error("Invalid loggers");e.forEach(function(e){e.layout&&"string"==typeof e.layout||(e.layout=M.layout),e.tag=e.tag||m,e.logLevel=e.logLevel||v.LogLevel.ERROR,T[e.tag]=S(e.logLevel,e.layout)})},S=function(e,n){var t=void 0,r=[];return Object.keys(A).forEach(function(o){t=A[o].prototype instanceof g.LogAppender?new A[o]:A[o](),t.setLogLevel(e),t.setLayout(n),r.push(t)}),r},R=function(e){if(!(e.prototype instanceof g.LogAppender)){if(!(e instanceof Function))throw new Error("Invalid appender: not a function or class LogAppender");var n=e();b.forEach(function(e){if(void 0==n[e]||!(n[e]instanceof Function))throw new Error("Invalid appender: missing/invalid method: "+e)})}};i(y.ConsoleAppender),n.LogLevel=v.LogLevel,n.LogAppender=g.LogAppender},function(e,n,t){"use strict";function r(e){E(e)}function o(e,n){return j(E(e),n)}n.__esModule=!0,n.preCompile=r,n.format=o;var i=t(2),u=t(3),a=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(u),l=t(4),s=/%([a-z,A-Z]+)(?=\{|)/,c={},f=function(e){return e.logger},p=function(e,n){return(0,i.dateFormat)(e.date,n[0])},g=function(e){var n="";if(null!=e.error)if(void 0!=e.error.stack){var t=e.error.stack.split(/\n/g);t.forEach(function(e){n+="\t"+e+"\n"})}else null!=e.error.message&&""!=e.error.message&&(n+="\t"+e.error.name+": "+e.error.message+"\n");return n},d=function(e){return e.file||_(e),e.file},v=function(e){return e.lineNumber||_(e),""+e.lineNumber},y=function(e){return e.column||_(e),""+e.column},m=function(e,n){var t=null;if(e.properties){t=[];for(var r in e.properties)n[0]?n[0]==r&&t.push(e.properties[r]):t.push("{"+r+","+e.properties[r]+"}");return"{"+t.join(",")+"}"}return t},h=function(e){return e.message},L=function(e){return a.getFunctionName(e.method)},b=function(){return"\n"},A=function(e){switch(e.level){case l.LogLevel.FATAL:return"FATAL";case l.LogLevel.ERROR:return"ERROR";case l.LogLevel.WARN:return"WARN";case l.LogLevel.INFO:return"INFO";case l.LogLevel.DEBUG:return"DEBUG";case l.LogLevel.TRACE:default:return"TRACE"}},M=function(e){return""+e.relative},w=function(e){return""+e.sequence},T={"c|logger":f,"d|date":p,"ex|exception|throwable":g,"F|file":d,"K|map|MAP":m,"L|line":v,column:y,"m|msg|message":h,"M|method":L,n:b,"p|level":A,"r|relative":M,"sn|sequenceNumber":w},E=function(e){return c[e]?c[e]:O(e)},O=function(e){var n=e.indexOf("%"),t="",r=[];0!=n&&r.push(e.substring(0,n));do{var o=n,i=n=e.indexOf("%",n+1);t=i<0?e.substring(o):e.substring(o,i),r.push(S(t))}while(n>-1);return c[e]=r,r},S=function(e){var n=s.exec(e);if(null!=n&&2==n.length){var t=R(n[1]);if(!t)return null;var r=F(e),o="",i=e.lastIndexOf("}");return o=-1!=i?e.substring(i+1):e.substring(n.index+n[1].length+1),{formatter:t,params:r,after:o}}return e},R=function(e){var n=void 0;for(var t in T)if(T.hasOwnProperty(t)&&(n=new RegExp("^("+t+")$"),n.exec(e)))return T[t];return null},F=function(e){var n=[],t=e.match(/\{([^}]*)(?=})/g);if(null!=t)for(var r=0;r<t.length;r++)n.push(t[r].substring(1));return n},j=function(e,n){for(var t=void 0,r="",o=e.length,i=0;i<o;i++)null!==e[i]&&(e[i]instanceof Object?(t=e[i].formatter(n,e[i].params),null!=t&&(r+=t),r+=e[i].after):r+=e[i]);return r.trim()},_=function(e){if(e.logErrorStack){var n=e.logErrorStack.stack.split(/\n/g),r=n[3];r=r.replace(/at (.*\(|)(file|http|https|)(:|)(\/|)*/,""),r=r.replace(")",""),r=r.replace("undefined"!=typeof location?location.host:"","").trim();var o=r.split(/\:/g);e.column=o.pop(),e.lineNumber=o.pop();var i=t(5),u=i.dirname(t.c[0].filename);o[0].startsWith(u)||(u=""),e.filename=o.join(":").replace(u,"").replace(/^(\\|\/)/,"")}else e.column="?",e.filename="anonymous",e.lineNumber="?";e.file=e.filename}},function(e,n){"use strict";function t(e,n){for(e=String(e),n=n||2;e.length<n;)e="0"+e;return e}function r(e,n){n=l[n]?l[n]:String(n||l.DEFAULT);var r="UTC:"==n.slice(0,4);r&&(n=n.slice(4));var s=r?"getUTC":"get",c=e[s+"Day"](),f=e[s+"Month"](),p=e[s+"FullYear"](),g=e[s+"Hours"](),d=e[s+"Minutes"](),v=e[s+"Seconds"](),y=e[s+"Milliseconds"](),m=r?0:e.getTimezoneOffset(),h={d:e.getDate(),dd:t(e.getDate()),ddd:o.d[c],dddd:o.d[c+7],M:f+1,MM:t(f+1),MMM:o.m[f],MMMM:o.m[f+12],yy:String(p).slice(2),yyyy:p,h:g%12||12,hh:t(g%12||12),H:g,HH:t(g),m:d,mm:t(d),s:v,ss:t(v),S:t(y,1),a:g<12?"a":"p",aa:g<12?"am":"pm",A:g<12?"A":"P",AA:g<12?"AM":"PM",Z:r?"UTC":(String(e).match(u)||[""]).pop().replace(a,""),o:(m>0?"-":"+")+t(100*Math.floor(Math.abs(m)/60)+Math.abs(m)%60,4)};return n.replace(i,function(e){return e in h?h[e]:e})}n.__esModule=!0,n.dateFormat=r;var o={d:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},i=/d{1,4}|M{1,4}|yy(?:yy)?|([HhmsAa])\1?|[LloSZ]|'[^']*'|'[^']*'/g,u=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,l={DEFAULT:"yyyy-MM-dd HH:mm:ss,S",ABSOLUTE:"HH:MM:ss,S",COMPACT:"yyyyMMddHHmmssS",DATE:"dd MMM yyyy HH:mm:ss,S",ISO8601:"yyyy-MM-ddTHH:mm:ss,S",ISO8601_BASIC:"yyyyMMddTHHmmss,S"}},function(e,n){"use strict";function t(e){var n=e.toString().substring("function ".length);return n=n.substring(0,n.indexOf("(")),n&&n.trim()?n:"anonymous"}n.__esModule=!0,n.getFunctionName=t},function(e,n){"use strict";n.__esModule=!0;n.LogLevel={OFF:0,FATAL:100,ERROR:200,WARN:300,INFO:400,DEBUG:500,TRACE:600,ALL:2147483647}},function(e,n,t){(function(e){function t(e,n){for(var t=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),t++):t&&(e.splice(r,1),t--)}if(n)for(;t--;t)e.unshift("..");return e}function r(e,n){if(e.filter)return e.filter(n);for(var t=[],r=0;r<e.length;r++)n(e[r],r,e)&&t.push(e[r]);return t}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var u=i>=0?arguments[i]:e.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(n=u+"/"+n,o="/"===u.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),i="/"===u(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,n){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var n=0;n<e.length&&""===e[n];n++);for(var t=e.length-1;t>=0&&""===e[t];t--);return n>t?[]:e.slice(n,t-n+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),u=Math.min(o.length,i.length),a=u,l=0;l<u;l++)if(o[l]!==i[l]){a=l;break}for(var s=[],l=a;l<o.length;l++)s.push("..");return s=s.concat(i.slice(a)),s.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var n=i(e),t=n[0],r=n[1];return t||r?(r&&(r=r.substr(0,r.length-1)),t+r):"."},n.basename=function(e,n){var t=i(e)[2];return n&&t.substr(-1*n.length)===n&&(t=t.substr(0,t.length-n.length)),t},n.extname=function(e){return i(e)[3]};var u="b"==="ab".substr(-1)?function(e,n,t){return e.substr(n,t)}:function(e,n,t){return n<0&&(n=e.length+n),e.substr(n,t)}}).call(n,t(6))},function(e,n){function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(n){try{return c.call(null,e,0)}catch(n){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(n){try{return f.call(null,e)}catch(n){return f.call(this,e)}}}function u(){v&&g&&(v=!1,g.length?d=g.concat(d):y=-1,d.length&&a())}function a(){if(!v){var e=o(u);v=!0;for(var n=d.length;n;){for(g=d,d=[];++y<n;)g&&g[y].run();y=-1,n=d.length}g=null,v=!1,i(e)}}function l(e,n){this.fun=e,this.array=n}function s(){}var c,f,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var g,d=[],v=!1,y=-1;p.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];d.push(new l(e,n)),1!==d.length||v||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0,n.LogAppender=void 0;var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=t(1);n.LogAppender=function(){function e(){r(this,e)}return e.prototype.isActive=function(){return!0},e.prototype.append=function(e){},e.prototype.getLogLevel=function(){return this.logLevel},e.prototype.setLogLevel=function(e){this.logLevel=e},e.prototype.setLayout=function(e){this.layout=e},e.prototype.getLayout=function(){return this.layout},e.prototype.format=function(e){return(0,i.format)(this.getLayout(),e)},o(e,null,[{key:"name",get:function(){return null}}]),e}()},function(e,n,t){"use strict";function r(e,n){function t(e,n){var t=new Date,o=null;try{throw new Error}catch(e){o=e}for(var l={date:t,error:null,logErrorStack:o,file:null,level:e,lineNumber:null,logger:r,message:"",method:a()?0:n.callee.caller,properties:void 0,relative:t.getTime()-u,sequence:i++},s=/\{\}/g,c=0;c<n.length;c++)0===c?l.message=n[c]:s.exec(l.message)?l.message=l.message.replace(/\{\}/,n[c]):n[c]instanceof Error?l.error=n[c]:l.properties=n[c];return l}var r=e,i=1,u=(new Date).getTime();this.error=function(){n.append(t(o.LogLevel.ERROR,arguments))},this.warn=function(){n.append(t(o.LogLevel.WARN,arguments))},this.info=function(){n.append(t(o.LogLevel.INFO,arguments))},this.debug=function(){n.append(t(o.LogLevel.DEBUG,arguments))},this.trace=function(){n.append(t(o.LogLevel.TRACE,arguments))};var a=function(){return!this};return this}n.__esModule=!0,n.Logger=r;var o=t(4)},function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}n.__esModule=!0,n.ConsoleAppender=void 0;var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t(7),l=t(4);n.ConsoleAppender=function(e){function n(){return r(this,n),o(this,e.apply(this,arguments))}return i(n,e),n.prototype.append=function(e){e.level<=this.getLogLevel()&&this._appendToConsole(e)},n.prototype._appendToConsole=function(e){var n=this.format(e);e.level==l.LogLevel.ERROR?console.error(n):e.level==l.LogLevel.WARN?console.warn(n):e.level==l.LogLevel.INFO?console.info(n):[l.LogLevel.DEBUG,l.LogLevel.TRACE].indexOf(e.level)>-1&&console.log(n)},u(n,null,[{key:"name",get:function(){return"console"}}]),n}(a.LogAppender)}])});
<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>log4js2 | The fast, flexible logger for JavaScript</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="log4js2" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The fast, flexible logger for JavaScript" />
<meta property="og:description" content="The fast, flexible logger for JavaScript" />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="log4js2" />
<script type="application/ld+json">
{"url":"http://localhost:4000/","headline":"log4js2","name":"log4js2","description":"The fast, flexible logger for JavaScript","@type":"WebSite","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

<header>
    <div class="inner">
        <a href="http://localhost:4000/">
            <h1>log4js2</h1>
        </a>
        <h2>The fast, flexible logger for JavaScript</h2>
        
        <a href="https://github.com/anigenero/log4js2" class="button"><small>View project on</small> GitHub</a>
        
        
    </div>
</header>


<div id="content-wrapper">
    <div class="inner clearfix">

        <section id="main-content">
            <p>
    log4js2 is a fast and lightweight logging library that enables logging flexibility within JavaScript applications,
    similar to Apache's Log4j2 library. It can also serve as a drop-in replacement for log4js, since the namespace and
    functions are mostly similar.
</p>

<div>
    <a href="https://travis-ci.org/anigenero/log4js2">
        <img src="https://travis-ci.org/anigenero/log4js2.svg?branch=master"/>
    </a>
    <a href="https://codecov.io/gh/anigenero/log4js2">
        <img src="https://codecov.io/gh/anigenero/log4js2/branch/master/graph/badge.svg"/>
    </a>
</div>

<h1>Installation & Building</h1>

<pre>
<code>&gt; npm i -S @log4js2/core</code>
</pre>

<h1>Configuration</h1>

<p>
    Configure log4js using the <code>configure()</code> method. <strong><em>This must be the first thing you do</em></strong>.
    Otherwise, the first log you commit will not allow updates from this function.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="k">import</span> <span class="p">{</span><span class="nx">configure</span><span class="p">,</span> <span class="nx">LogLevel</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'log4js2'</span><span class="p">;</span>

<span class="nx">configure</span><span class="p">({</span>
    <span class="na">level</span><span class="p">:</span> <span class="nx">LogLevel</span><span class="p">.</span><span class="nx">INFO</span>
    <span class="na">layout</span><span class="p">:</span> <span class="s1">'%d [%p] %c %M:%line:%column - %m %ex'</span><span class="p">,</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[</span><span class="s1">'Console'</span><span class="p">],</span>
    <span class="na">loggers</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">tag</span><span class="p">:</span> <span class="s1">'App'</span><span class="p">,</span>
        <span class="na">logLevel</span> <span class="p">:</span> <span class="nx">LogLevel</span><span class="p">.</span><span class="nx">INFO</span>
    <span class="p">}]</span>
<span class="p">});</span></code></pre></figure>

<h1>Virtual Console</h1>
<p>
    This library utilizes a virtual console to intercept console logs from other libraries/scripts. This is intended
    to allow usage of this library without having to replace all console.log commands within your code - or to intercept
    logs from third-party libraries to input into your own log stream. Make sure log4js2 is loaded at the top of the
    page to ensure that all logs are caught.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="k">import</span> <span class="o">*</span> <span class="k">from</span> <span class="s1">'log4js2'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'console log'</span><span class="p">);</span>

<span class="c1">// outputs: 08-30-2018 12:38:00 [INFO] main - console log</span></code></pre></figure>

<p>
    To disable this feature, set the <code>virtualConsole</code> property to false when configuring log4js2.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">configure</span><span class="p">({</span>
    <span class="c1">// ...</span>
    <span class="na">virtualConsole</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">});</span></code></pre></figure>

<h1>Usage</h1>

<h2>Simple Logging</h2>

<p>
    To log, use <code>getLogger</code> to get a logger, and then use (in increasing granularity) <code>fatal</code>,
    <code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, or <code>trace</code> to output logs.
    Because of how <code>console</code> is structured in JavaScript, <code>debug</code> and <code>trace</code> will log
    at the same level, as well as <code>error</code> and <code>fatal</code>.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="kd">const</span> <span class="nx">logger</span> <span class="o">=</span> <span class="nx">getLogger</span><span class="p">(</span><span class="s1">'app'</span><span class="p">);</span>

<span class="nx">logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s1">'something happened!'</span><span class="p">);</span>
<span class="nx">logger</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'something bad happened!'</span><span class="p">);</span></code></pre></figure>

<h2>Variables</h2>

<p>
    Variables can be inputted into your log statement by using curly braces <code>{}</code>, and will be replaced with
    the supplied arguments at the corresponding index. So, the first curly brace will take the first argument after the
    message string, the second curly brace the second argument, etc.
</p>
<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s1">'The user email is: {}'</span><span class="p">,</span> <span class="nx">email</span><span class="p">);</span></code></pre></figure>

<h2>Errors</h2>

<p>
    If specified in the pattern layout, by adding an error to your list of arguments, the stacktrace will be outputted
    to the logs. <em>Your error must be the last argument, and not consumed by a <code>{}</code>, otherwise it will not
    display</em>
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="k">try</span> <span class="p">{</span>
    <span class="c1">// execute something</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// stacktrace displays</span>
    <span class="nx">logger</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'There was an error: {}'</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span>

    <span class="c1">// stacktrace does not display</span>
    <span class="nx">logger</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'There was an error: {}'</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span>

<span class="p">}</span></code></pre></figure>

<h2>Markers</h2>

<p>
    Makers are useful to either "mark" a log event for specific filtering, or add useful information to your logs.
    <em>It is a good idea <strong>not</strong> to generate markers dynamically, but declare them beforehand as
    constants.</em>
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="kd">const</span> <span class="nx">sqlMarker</span> <span class="o">=</span> <span class="nx">Marker</span><span class="p">.</span><span class="nx">getMarker</span><span class="p">(</span><span class="s1">'sql'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">updateMarker</span> <span class="o">=</span> <span class="nx">Marker</span><span class="p">.</span><span class="nx">getMarker</span><span class="p">(</span><span class="s1">'update'</span><span class="p">).</span><span class="nx">addParents</span><span class="p">(</span><span class="nx">sqlMarker</span><span class="p">);</span>

<span class="nx">logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">updateMarker</span><span class="p">,</span> <span class="s1">'Updating the database'</span><span class="p">);</span></code></pre></figure>

<h1>Levels</h1>

<p>
    The log4js2 <code>LogLevel</code> enum specifies the log levels (in decreasing severity) <code>FATAL</code>,
    <code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code>, and <code>TRACE</code> - with an
    inclusion of <code>ALL</code> and <code>NONE</code> for configuration purposes.
</p>

<h2>Specifying Levels</h2>

<p>
    You can specify multiple log levels, in order of precedence, at the logger, appender, and global levels. This allows
    logs to be, for example, suppressed in a browser console while being passed to another appender to be pushed to an
    HTTP endpoint. By using <code>ALL</code>, you can allow any and all level logs to be outputted, and by using
    <code>NONE</code>, restrict any output.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">configure</span><span class="p">({</span>
    <span class="na">level</span><span class="p">:</span> <span class="nx">LogLevel</span><span class="p">.</span><span class="nx">WARN</span><span class="p">,</span> <span class="c1">// default</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">appender</span><span class="p">:</span> <span class="s1">'RollingFile'</span><span class="p">,</span>
        <span class="na">level</span><span class="p">:</span> <span class="nx">LogLevel</span><span class="p">.</span><span class="nx">INFO</span> <span class="c1">// appender</span>
    <span class="p">}],</span>
    <span class="na">loggers</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">tag</span><span class="p">:</span> <span class="s1">'DAO'</span><span class="p">,</span>
        <span class="na">level</span><span class="p">:</span> <span class="nx">LogLevel</span><span class="p">.</span><span class="nx">ALL</span> <span class="c1">// logger</span>
    <span class="p">}]</span>
<span class="p">});</span></code></pre></figure>

<h1>Pattern Layout</h1>

<h2>Specifying a Layout</h2>

<p>
    Like log levels, you can specify multiple pattern layouts, in order of precedence, at the logger, appender, and
    global levels. Pattern layouts are specified using <em>tags</em>, which describe a particular log event attribute
    (see below).
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">configure</span><span class="p">({</span>
    <span class="na">patternLayout</span><span class="p">:</span> <span class="s1">'%d [%p] %c - %m'</span><span class="p">,</span> <span class="c1">// default</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">appender</span><span class="p">:</span> <span class="s1">'Console'</span><span class="p">,</span>
        <span class="na">patternLayout</span><span class="p">:</span> <span class="s1">'%d{ISO8601} [%p] - %m %exception'</span> <span class="c1">// appender</span>
    <span class="p">}],</span>
    <span class="na">loggers</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">tag</span><span class="p">:</span> <span class="s1">'App'</span><span class="p">,</span>
        <span class="na">patternLayout</span><span class="p">:</span> <span class="s1">'%c.%method (%line:%column) %m %ex'</span> <span class="c1">// logger</span>
    <span class="p">}]</span>
<span class="p">});</span></code></pre></figure>

<p>
    If a tag takes parameters, those are specified within the proceeding curly brackets <code>{}</code>.
    <strong>Do not</strong> add a space between the tag and the parameter(s) container - so <code>%d {DEFAULT}</code>
    is invalid, whereas <code>%d{DEFAULT}</code> is correct.
</p>

<h2>Tags</h2>

<h3>Logger</h3>

<p>
    <code>%c</code>
    <code>%logger</code>
</p>

<p>
    Outputs the name of the logger that pushed the message. If no logger is specified, the <em>main</em> logger is used.
    This tag takes no parameters.
</p>

<h3>Date</h3>

<p>
    <code>%d</code>
    <code>%date</code>
</p>

<p>
    Outputs the current date the log was issued at. You can specify the date format using one of the named date formats
    (below), or by supplying your own date format string. Using <code>%d</code> or <code>%date</code> without a format
    will behave like <code>%d{DEFAULT}</code>
</p>

<table>
    <thead>
    <tr>
        <td><strong>Name</strong></td>
        <td><strong>Format</strong></td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td style="text-align: left;">DEFAULT</td>
        <td style="text-align: left;">yyyy-MM-dd HH:mm:ss,S</td>
    </tr>
    <tr>
        <td style="text-align: left;">ABSOLUTE</td>
        <td style="text-align: left;">HH:mm:ss,S</td>
    </tr>
    <tr>
        <td style="text-align: left;">COMPACT</td>
        <td style="text-align: left;">yyyyMMddHHmmssS</td>
    </tr>
    <tr>
        <td style="text-align: left;">DATE</td>
        <td style="text-align: left;">dd MMM yyyy HH:mm:ss,S</td>
    </tr>
    <tr>
        <td style="text-align: left;">ISO8601</td>
        <td style="text-align: left;">yyyy-MM-ddTHH:mm:ss,S</td>
    </tr>
    <tr>
        <td style="text-align: left;">ISO8601_BASIC</td>
        <td style="text-align: left;">yyyyMMddTHHmmss,S</td>
    </tr>
    </tbody>
</table>

<h3>Exception</h3>

<p>
    <code>%ex</code>
    <code>%exception</code>
    <code>%throwable</code>
</p>

<p>
    Outputs the stack trace for a thrown error (if present). If no error is present, this tag will not render.
    <figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"> <span class="nx">logger</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'an error occurred!'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span> </code></pre></figure>
</p>

<h3>File</h3>

<p>
    <code>%F</code>
    <code>%file</code>
</p>

<p>
    Outputs the file name and location that emitted the log.
</p>

<h3>Map</h3>

<p>
    <code>%K</code>
    <code>%map</code>
    <code>%MAP</code>
</p>

<p>
    Outputs a map to a readable format. The value must be of type <code>object</code> with key-value pairs, or type
    <code>Map</code>. There can also be no corresponding curly brace <code>{}</code> in the log message, otherwise the
    value will not output.
</p>
<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s1">'Output: '</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">foo</span><span class="p">:</span> <span class="s1">'bar'</span> <span class="p">});</span>

<span class="c1">// [INFO] main - {{a,1},{foo,bar}}</span></code></pre></figure>

<h3>Line</h3>

<p>
    <code>%L</code>
    <code>%line</code>
</p>

<p>
    Outputs the line number the log was emitted from.
</p>

<h3>Column</h3>

<p>
    <code>%column</code>
</p>

<p>
    Outputs the column number the log was emitted from.
</p>

<h3>Log Message</h3>

<p>
    <code>%m</code>
    <code>%msg</code>
    <code>%message</code>
</p>

<p>
    The log message, with all curly brace <code>{}</code> arguments substituted. Your pattern layout
    <strong>must</strong> have this tag in order to display the log message, which is not emitted regardless of layout.
</p>

<h3>Marker</h3>

<p>
    <code>%marker</code>
    <code>%markerSimpleName</code>
</p>

<p>
    Outputs the marker for the log event, or nothing if absent. The <code>%marker</code> tag will output the marker
    <strong>and</strong> its parents, while <code>%markerSimpleName</code> will output only the marker name.
</p>

<h3>Method</h3>

<p>
    <code>%M</code>
    <code>%method</code>
</p>

<p>
    The method (function) that called the logger. If the function is named, the name of the method will be shown,
    otherwise <em>anonymous</em> will be outputted. <em>This tag is expensive in its execution, so it's a good idea
    not to use it in a production environment. Also, this tag is unreliable when using
    <code>'use strict'</code></em>.
</p>

<h3>Line Separator</h3>

<p>
    <code>%n</code>
</p>

<p>
    Outputs a simple line separator <code>\n</code> within the logs. All logs already terminate with a new line
    separator, so this is only useful if you want to split your log over multiple lines.
</p>

<h3>Log Level</h3>

<p>
    <code>%p</code>
    <code>%level</code>
</p>

<p>
    The log level for the given log event. The level can be <code>FATAL</code>, <code>ERROR</code>, <code>WARN</code>,
    <code>INFO</code>, <code>DEBUG</code>, or <code>TRACE</code>.
</p>

<h3>Relative</h3>

<p>
    <code>%r</code>
    <code>%relative</code>
</p>

<p>
    The relative time of a given log to the creation of its logger, in milliseconds. So, for example, if
    the logger was created at <code>5:35:10 PM</code>, and the log was generated at <code>5:36:00 PM</code>, the
    outputted relative value would be <code>50000</code>.
</p>

<h3>Sequence</h3>

<p>
    <code>%sn</code>
    <code>%sequenceNumber</code>
</p>

<p>
    The sequence number of the log for the given logger. This number starts at 1 and increments for every subsequent
    log entry.
</p>


<h1>Appenders</h1>

<h2>Configuring</h2>

<p>
    By specifying appenders by name, you can control which loggers log to which appender. This is useful when you want
    to isolate logs to a specific output file, or prevent certain logs from displaying in the console.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">configure</span><span class="p">({</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[</span><span class="s1">'Console'</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">appender</span><span class="p">:</span> <span class="s1">'File'</span><span class="p">,</span>
        <span class="na">fileName</span><span class="p">:</span> <span class="s1">'app.log'</span>
    <span class="p">},</span> <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="s1">'SQLAppender'</span><span class="p">,</span>
        <span class="na">appender</span><span class="p">:</span> <span class="s1">'File'</span><span class="p">,</span>
        <span class="na">fileName</span><span class="p">:</span> <span class="s1">'sql.log'</span>
    <span class="p">}],</span>
    <span class="na">loggers</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">tag</span><span class="p">:</span> <span class="s1">'sql'</span><span class="p">,</span>
        <span class="na">appenders</span><span class="p">:</span> <span class="p">[</span><span class="s1">'SQLAppender'</span><span class="p">]</span> <span class="c1">// will ONLY log to appender named 'SQLAppender'</span>
    <span class="p">}]</span>
<span class="p">});</span></code></pre></figure>

<h2>Available Appenders</h2>

<h3>Console</h3>

<p>
    This is the default appender that outputs logs to the system out. If no appender is specified in the configuration,
    the console appender will be used.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="c1">// you can use just the appender name</span>
<span class="c1">// if you don't want to specify any configuration</span>
<span class="nx">configure</span><span class="p">({</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[</span><span class="s1">'Console'</span><span class="p">]</span>
<span class="p">});</span></code></pre></figure>

<h3>File</h3>

<p>
    This is a simple file appender that outputs logs to a single file. There is no consideration for file size, so it is
    wise to only utilize this appender when the process execution terminates after a set time period (e.g. not a http
    server).
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">configure</span><span class="p">({</span>
    <span class="na">layout</span> <span class="p">:</span> <span class="s1">'%d [%p] %c %M:%line:%column - %m %ex'</span><span class="p">,</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">appender</span><span class="p">:</span> <span class="s1">'File'</span><span class="p">,</span>
        <span class="na">config</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">fileName</span><span class="p">:</span> <span class="s1">'./logs/app.log'</span>
        <span class="p">}</span>
    <span class="p">}]</span>
<span class="p">});</span></code></pre></figure>

<h3>Rolling File</h3>

<p>
    The rolling file appender allows for logs to be appended to a log file, to be split and backed up once the file
    reaches a certain size. The <code>filePattern</code> attribute can contain either <code>%d</code> tag for the log
    file creation date, or a <code>%i</code> tag to specify the increment.
</p>

<p>
    You can control the size (in megabytes) by setting the <code>maxSize</code> attribute, or of the max number of log
    file backups to retain by setting <code>maxBackup</code>.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">configure</span><span class="p">({</span>
    <span class="na">layout</span> <span class="p">:</span> <span class="s1">'%d [%p] %c %M:%line:%column - %m %ex'</span><span class="p">,</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">appender</span><span class="p">:</span> <span class="s1">'RollingFile'</span><span class="p">,</span>
        <span class="na">config</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">fileName</span><span class="p">:</span> <span class="s1">'./logs/rollingfile.log'</span><span class="p">,</span>
            <span class="na">filePattern</span><span class="p">:</span> <span class="s1">'./logs/rollingfile.%d{DEFAULT}.log'</span><span class="p">,</span>
            <span class="na">maxBackup</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="na">maxSize</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
    <span class="p">}]</span>
<span class="p">});</span></code></pre></figure>

<h2>Custom Appenders</h2>

<p>
    You can create custom log appenders for specific use cases.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="p">@</span><span class="nd">Appender</span><span class="p">(</span><span class="s1">'MyAppender'</span><span class="p">)</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">MyAppender</span> <span class="kd">extends</span> <span class="nx">LogAppender</span><span class="o">&lt;</span><span class="nx">MyAppenderConfiguration</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="kr">public</span> <span class="kr">static</span> <span class="kd">get</span> <span class="nx">appenderName</span><span class="p">():</span> <span class="nx">string</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'MyAppender'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kr">public</span> <span class="nx">append</span><span class="p">(</span><span class="na">logEvent</span><span class="p">:</span> <span class="nx">ILogEvent</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">logEvent</span><span class="p">.</span><span class="nx">level</span> <span class="o">&lt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getLogLevel</span><span class="p">())</span> <span class="p">{</span>

            <span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">logEvent</span><span class="p">);</span>

            <span class="c1">// handle message</span>

        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="k">import</span> <span class="p">{</span> <span class="nx">MyAppender</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'./myappender.ts'</span><span class="p">;</span>

<span class="nx">configure</span><span class="p">({</span>
    <span class="c1">// ...</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">appender</span><span class="p">:</span> <span class="nx">MyAppender</span><span class="p">,</span> <span class="c1">// can also refer by name ('MyAppender')</span>
        <span class="na">config</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1">// ...</span>
        <span class="p">}</span>
    <span class="p">}]</span>
<span class="p">});</span></code></pre></figure>

<h1>Filters</h1>

<p>
    Filters allow you to add fine-grain control to appenders by filtering what logs can reach them. You can set the
    <code>onMatch</code> and <code>onMismatch</code> behaviors using <code>ALLOW</code>, <code>DENY</code>,
    <code>NEUTRAL</code>.
</p>

<h2>Marker</h2>

<p>
    The marker filter allows you to control which logs are appended by the marker attached to the log. The <code>marker</code>
    attribute corresponds to the marker name, or a marker's parent name.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="nx">configure</span><span class="p">({</span>
    <span class="na">appenders</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">appender</span><span class="p">:</span> <span class="nx">RollingFile</span><span class="p">,</span>
        <span class="na">filters</span><span class="p">:</span> <span class="p">[{</span>
            <span class="na">filter</span><span class="p">:</span> <span class="nx">MarkerFilter</span><span class="p">,</span>
            <span class="na">marker</span><span class="p">:</span> <span class="s1">'MyMarker'</span><span class="p">,</span>
            <span class="na">onMatch</span><span class="p">:</span> <span class="nx">LogFilterAction</span><span class="p">.</span><span class="nx">ALLOW</span><span class="p">,</span>
            <span class="na">onMismatch</span><span class="p">:</span> <span class="nx">LogFilterAction</span><span class="p">.</span><span class="nx">DENY</span>
        <span class="p">}]</span>
    <span class="p">}]</span>
<span class="p">});</span></code></pre></figure>

<h2>Custom</h2>

<p>
    You can create custom filters to handle specific use cases.
</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript"><span class="p">@</span><span class="nd">Filter</span><span class="p">(</span><span class="s1">'MyFilter'</span><span class="p">)</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">MyFilter</span> <span class="kd">extends</span> <span class="nx">LogFilter</span><span class="o">&lt;</span><span class="nx">MyFilterConfiguration</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="kr">public</span> <span class="nx">isMatch</span><span class="p">(</span><span class="nx">logEvent</span><span class="p">?:</span> <span class="nx">ILogEvent</span><span class="p">):</span> <span class="kr">boolean</span> <span class="p">{</span>

        <span class="c1">// check if match</span>
        <span class="c1">// use this.configuration to grab the current configuration</span>

    <span class="p">}</span>

<span class="p">}</span></code></pre></figure>

        </section>

        <aside id="sidebar">

    

    
        <p class="repo-owner">
            <a href="https://github.com/anigenero/log4js2">log4js2</a>
            is maintained by
            <a href="https://github.com/anigenero/">Robin Schultz</a>.
        </p>
    

    <p>
        This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
    </p>

</aside>

    </div>
</div>


</body>
</html>